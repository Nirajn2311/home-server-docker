# Folder structure
# <base-data-dir>
# |-- torrents/
# |   |-- movies/
# |   |-- tv/
# |-- media/
# |   |-- movies/
# |   |-- photos/
# |   |-- tv/

version: "3"
services:
  qbittorrent:
    image: linuxserver/qbittorrent:amd64-4.5.5@sha256:d8fdbe40843a9fa6af2754f3f78fbbd15806f9f7f678130dcd1e75d5e6fa691a
    container_name: qbittorrent
    restart: unless-stopped
    env_file: .env
    environment:
      - WEBUI_PORT=9090
    ports:
      - "9090:9090"
    volumes:
      - ./qbit-config:/config
      - ${BASE_DATA_DIR}/torrents:/data/torrents

  flaresolverr:
    image: ghcr.io/flaresolverr/flaresolverr:v3.3.17@sha256:5f5661db1e69a6f80ac24d47d9fa5580f6f741ee5ec967818396ae0dacecd7ea
    container_name: flaresolverr
    restart: unless-stopped
    logging:
      driver: json-file
    env_file: .env
    ports:
      - "8191:8191"
    volumes:
      - ./flaresolverr-config:/config

  prowlarr:
    image: ghcr.io/hotio/prowlarr:release-1.25.4.4818@sha256:239d961f36f7a7131195e7ff45c8f6b1b9a52b232f78c5fc2ed54f0fc154df0b
    container_name: prowlarr
    restart: unless-stopped
    logging:
      driver: json-file
    env_file: .env
    ports:
      - "9696:9696"
    volumes:
      - ./prowlarr-config:/config
    depends_on:
      - flaresolverr

  radarr:
    image: ghcr.io/hotio/radarr:release-5.14.0.9383@sha256:c413f1ec040f0c56a950fa8aa6444c3d1bb25e351cbe76e0924ea040d342e2d7
    container_name: radarr
    restart: unless-stopped
    logging:
      driver: json-file
    env_file: .env
    ports:
      - "7878:7878"
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - ./radarr-config:/config
      - ${BASE_DATA_DIR}:/data
    depends_on:
      - qbittorrent
      - prowlarr

  sonarr:
    image: ghcr.io/hotio/sonarr:release-4.0.10.2544@sha256:38bff49d434f460f395b9288420426db93dcadaa41164065bdc3381004a6c016
    container_name: sonarr
    restart: unless-stopped
    logging:
      driver: json-file
    env_file: .env
    ports:
      - "8989:8989"
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - ./sonarr-config:/config
      - ${BASE_DATA_DIR}:/data
    depends_on:
      - qbittorrent
      - prowlarr

  bazarr:
    image: ghcr.io/hotio/bazarr:release-1.4.5@sha256:78e7e2d5cffa81652998dd388f24349fd2db3a328e22b07115e7331cdf2ff785
    container_name: bazarr
    restart: unless-stopped
    logging:
      driver: json-file
    env_file: .env
    ports:
      - "6767:6767"
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - ./bazarr-config:/config
      - ${BASE_DATA_DIR}/media:/data/media
    depends_on:
      - qbittorrent
      - prowlarr
